<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Software and Application Security MCQ Test</title>
    <style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:30px 20px}.container{max-width:1200px;margin:0 auto;background:white;border-radius:15px;box-shadow:0 10px 40px rgba(0,0,0,0.2);overflow:hidden}.header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:30px;text-align:center}.header h1{font-size:32px;margin-bottom:10px}.header p{font-size:16px;opacity:0.9}.instructions{background:#f8f9fa;padding:20px 30px;border-bottom:3px solid #667eea}.instructions h2{color:#667eea;font-size:20px;margin-bottom:10px}.instructions p{color:#555;font-size:15px}.content{padding:40px}.progress-bar{background:#e9ecef;height:30px;border-radius:15px;overflow:hidden;margin-bottom:30px}.progress-fill{background:linear-gradient(90deg,#667eea 0%,#764ba2 100%);height:100%;width:0%;transition:width 0.3s;display:flex;align-items:center;justify-content:center;color:white;font-weight:bold;font-size:14px}.question-container{background:#f8f9fa;padding:30px;border-radius:10px;margin-bottom:30px}.question-number{color:#667eea;font-weight:bold;font-size:18px;margin-bottom:15px}.question-text{color:#333;font-size:18px;margin-bottom:25px;line-height:1.6}.options-container{display:flex;flex-direction:column;gap:15px}.option{background:white;padding:20px;border-radius:8px;border:2px solid #dee2e6;cursor:pointer;transition:all 0.3s;display:flex;align-items:flex-start}.option:hover{border-color:#667eea;transform:translateX(5px);box-shadow:0 2px 8px rgba(102,126,234,0.2)}.option-label{font-weight:bold;color:#667eea;margin-right:15px;min-width:30px}.option-text{color:#555;line-height:1.5}.option.selected{background:#667eea;border-color:#667eea}.option.selected .option-label,.option.selected .option-text{color:white}.option.correct{background:#28a745;border-color:#28a745}.option.correct .option-label,.option.correct .option-text{color:white}.option.incorrect{background:#dc3545;border-color:#dc3545}.option.incorrect .option-label,.option.incorrect .option-text{color:white}.option.disabled{cursor:not-allowed;opacity:0.7}.controls{display:flex;justify-content:space-between;gap:20px;margin-top:30px;flex-wrap:wrap}.btn{padding:14px 35px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all 0.3s}.btn-primary{background:#667eea;color:white}.btn-primary:hover:not(:disabled){background:#764ba2;transform:translateY(-2px);box-shadow:0 5px 15px rgba(102,126,234,0.3)}.btn-secondary{background:#6c757d;color:white}.btn-secondary:hover{background:#5a6268}.btn:disabled{opacity:0.5;cursor:not-allowed}.results{display:none;padding:40px}.results.active{display:block}.results h2{font-size:36px;color:#667eea;margin-bottom:20px;text-align:center}.final-score{font-size:64px;font-weight:bold;color:#28a745;margin:30px 0;text-align:center}.results-details{background:#f8f9fa;padding:30px;border-radius:10px;max-width:500px;margin:30px auto}.result-row{display:flex;justify-content:space-between;padding:15px 0;border-bottom:1px solid #dee2e6;font-size:18px}.result-row:last-child{border-bottom:none}.review-section{margin-top:40px}.review-question{background:#f8f9fa;padding:25px;border-radius:10px;margin-bottom:20px}.review-question-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.review-question-number{font-weight:bold;color:#667eea;font-size:18px}.review-status{padding:5px 15px;border-radius:5px;font-weight:bold;font-size:14px}.review-status.correct{background:#28a745;color:white}.review-status.incorrect{background:#dc3545;color:white}.review-question-text{color:#333;font-size:16px;margin-bottom:20px;line-height:1.6}.review-options{display:flex;flex-direction:column;gap:10px}.review-option{padding:15px;border-radius:5px;display:flex;align-items:flex-start}.review-option-label{font-weight:bold;margin-right:10px;min-width:25px}.review-option.user-answer{background:#ffc107;border:2px solid #ff9800}.review-option.correct-answer{background:#d4edda;border:2px solid #28a745}.review-option.user-incorrect{background:#f8d7da;border:2px solid #dc3545}@media (max-width:768px){.content{padding:20px}.question-container{padding:20px}.header h1{font-size:24px}.controls{flex-direction:column}.btn{width:100%}}</style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Software and Application Security MCQ Test</h1>
            <p>Computer Organization and Infrastructure | Prof. Dr. Nashaat ElKhameesy</p>
        </div>
        <div class="instructions">
            <h2>Instructions:</h2>
            <p>Select one answer for each question. You'll see if your answer is correct immediately. Click "Next" to proceed to the next question.</p>
        </div>
        <div class="content">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar">0/45</div>
            </div>
            <div id="quizArea">
                <div class="question-container" id="questionContainer"></div>
                <div class="controls">
                    <button class="btn btn-secondary" onclick="previousQuestion()" id="prevBtn">Previous</button>
                    <button class="btn btn-primary" onclick="nextQuestion()" id="nextBtn">Next</button>
                    <button class="btn btn-primary" onclick="submitQuiz()" id="submitBtn" style="display:none">Submit Test</button>
                </div>
            </div>
            <div class="results" id="results">
                <h2>Test Complete!</h2>
                <div class="final-score" id="finalScore"></div>
                <div class="results-details">
                    <div class="result-row"><span>Correct Answers:</span><strong id="correctAnswers"></strong></div>
                    <div class="result-row"><span>Wrong Answers:</span><strong id="wrongAnswers"></strong></div>
                    <div class="result-row"><span>Percentage:</span><strong id="percentage"></strong></div>
                </div>
                <div style="text-align:center;margin:20px 0"><button class="btn btn-primary" onclick="resetQuiz()">Retake Test</button></div>
                <div class="review-section" id="reviewSection"></div>
            </div>
        </div>
    </div>
    <script>const questions=[{question:"Which property of security is primarily concerned with preventing unauthorized disclosure of data?",options:["Integrity","Availability","Confidentiality","Non-repudiation"],correct:2},{question:"Which property of security ensures that data remains accurate and unaltered during transmission?",options:["Integrity","Availability","Confidentiality","Non-repudiation"],correct:0},{question:"Which property of security ensures that systems and data are accessible when needed?",options:["Integrity","Availability","Confidentiality","Non-repudiation"],correct:1},{question:"A software defect in the design is called a",options:["Bug","Flaw","Patch","Exploit"],correct:1},{question:"A software defect in the implementation is called a",options:["Bug","Flaw","Patch","Exploit"],correct:0},{question:"A piece of code that takes advantage of a vulnerability is called a",options:["Bug","Flaw","Patch","Exploit"],correct:3},{question:"Heartbleed exploited a bug in which kind of software component?",options:["Firewall rule set","An implementation of TLS/SSL (OpenSSL)","A hardware router firmware","An antivirus signature engine"],correct:1},{question:"Which vulnerability was caused by improper bounds checking in OpenSSL's heartbeat extension?",options:["Shellshock","Heartbleed","POODLE","Spectre"],correct:1},{question:"Which memory region typically holds global variables that are not explicitly initialized?",options:["Heap","BSS","Stack","Text"],correct:1},{question:"Which memory region typically holds dynamically allocated memory during runtime?",options:["Heap","BSS","Stack","Text"],correct:0},{question:"Which memory region typically holds local variables and function call information?",options:["Heap","BSS","Stack","Text"],correct:2},{question:"Which memory region typically holds the executable code of the program?",options:["Heap","BSS","Stack","Text"],correct:3},{question:"When a function is called, the CPU pushes which value onto the stack so it can return later?",options:["%ebp","%eip","%esp","The global pointer"],correct:1},{question:"Which register typically points to the base of the current stack frame?",options:["%ebp","%eip","%esp","The global pointer"],correct:0},{question:"Which register typically points to the top of the stack?",options:["%ebp","%eip","%esp","The global pointer"],correct:2},{question:"Constructing custom shellcode using pieces of code that already exist in memory is called:",options:["NOP sled","NX pages","ASLR","ROP (Return-Oriented Programming)"],correct:3},{question:"A security technique that randomizes memory addresses to prevent exploit prediction is called:",options:["NOP sled","NX pages","ASLR (Address Space Layout Randomization)","ROP"],correct:2},{question:"Memory pages marked as non-executable to prevent code injection attacks are called:",options:["NOP sled","NX pages (No-eXecute)","ASLR","ROP"],correct:1},{question:"In a buffer overflow attack on the stack, which component is typically targeted to redirect program execution?",options:["Local variables","Return address (%eip)","Saved base pointer (%ebp)","Function arguments"],correct:1},{question:"When strcpy copies 'ABCDEFGH' (8 chars + null terminator = 9 bytes) into a 4-byte buffer tmp[], how many bytes overflow?",options:["4 bytes","5 bytes","8 bytes","9 bytes"],correct:1},{question:"In a stack frame, what is stored immediately after the saved %ebp?",options:["Local variables","Function arguments","Return address (%eip)","Stack pointer"],correct:2},{question:"What function is considered unsafe because it does not check buffer boundaries?",options:["strncpy","strlcpy","strcpy","fgets"],correct:2},{question:"Which safe string function should replace strcpy to prevent buffer overflows?",options:["strcat","strlen","strlcpy","strcmp"],correct:2},{question:"What does the strlcat function require as its third parameter to ensure safe concatenation?",options:["Source string length","Destination buffer size","Number of characters to copy","Pointer to null terminator"],correct:1},{question:"In the heap overflow example with strcpy(A->buf, 'AAA...'), if A->buf is 16 bytes and 33 bytes are copied, how many bytes overflow?",options:["16 bytes","17 bytes","32 bytes","33 bytes"],correct:1},{question:"In a C++ object on the heap, what pointer is typically stored at the beginning of the object?",options:["Data pointer","vptr (virtual table pointer)","Function pointer","Stack pointer"],correct:1},{question:"When a heap overflow overwrites an object's vptr, what is the security consequence?",options:["Memory leak","Denial of service only","Control flow hijacking (attacker can execute arbitrary code)","Performance degradation"],correct:2},{question:"What vulnerability exists in the following code: printf(buf); where buf contains user input?",options:["Buffer overflow","Format string vulnerability","Integer overflow","Use-after-free"],correct:1},{question:"In a format string attack, what specifier can be used to write to arbitrary memory addresses?",options:["%s","%d","%x","%n"],correct:3},{question:"What does the %n format specifier do in printf?",options:["Prints a number","Reads from memory","Writes the number of characters printed so far to the address provided","Prints a newline"],correct:2},{question:"Which rule helps prevent buffer overflows by validating user input before processing?",options:["Use safe string functions","Enforce input compliance","Enable stack canaries","Disable ASLR"],correct:1},{question:"What should be checked before using strcpy to copy a string into a buffer?",options:["Source string encoding","Destination buffer has enough space (strlen(source) + 1 <= sizeof(dest))","Source string is not NULL","Destination is aligned"],correct:1},{question:"In the safe code example, why is '+1' added when checking: if (strlen(x) + 1 > sizeof str)?",options:["For alignment","To account for the null terminator","For padding","To prevent off-by-one errors"],correct:1},{question:"What is the difference between strcat and strlcat?",options:["strcat is faster","strlcat takes a size parameter to prevent overflow","strcat handles Unicode","strlcat automatically allocates memory"],correct:1},{question:"Which of the following is NOT a memory safety mitigation technique?",options:["ASLR","NX bit","Stack canaries","SQL injection prevention"],correct:3},{question:"What does DEP (Data Execution Prevention) do?",options:["Encrypts data","Marks memory regions as non-executable","Randomizes addresses","Validates input"],correct:1},{question:"In a stack-based buffer overflow, what is often placed after the buffer to detect overwrites?",options:["Padding bytes","Stack canary","Null terminator","Return address backup"],correct:1},{question:"What happens when a stack canary is overwritten and detected?",options:["Program continues normally","Warning is logged","Program terminates immediately","Overflow is corrected automatically"],correct:2},{question:"Which compiler flag enables stack protection with canaries in GCC?",options:["-fno-stack-protector","-fstack-protector","-O2","-Wall"],correct:1},{question:"What is the purpose of a NOP sled in shellcode exploits?",options:["To speed up execution","To provide a larger target area for jumping to shellcode","To encrypt the payload","To bypass firewalls"],correct:1},{question:"In Return-Oriented Programming (ROP), what are 'gadgets'?",options:["Small sequences of instructions ending in 'ret'","Encryption keys","Network packets","Debugging symbols"],correct:0},{question:"How does ASLR make exploitation more difficult?",options:["By encrypting memory","By randomizing memory layout so addresses are unpredictable","By adding checksums","By compressing memory"],correct:1},{question:"What is a 'use-after-free' vulnerability?",options:["Using a variable before initialization","Accessing freed memory","Not freeing allocated memory","Using a function after it returns"],correct:1},{question:"Which memory error occurs when accessing memory outside allocated bounds?",options:["Memory leak","Buffer overflow","Null pointer dereference","Double free"],correct:1},{question:"What is the main security benefit of using memory-safe languages like Rust?",options:["Faster execution","Automatic prevention of memory corruption bugs","Smaller binary size","Better syntax"],correct:1}];let currentQuestion=0;let userAnswers=new Array(questions.length).fill(null);let answered=false;function displayQuestion(){const question=questions[currentQuestion];const container=document.getElementById('questionContainer');let optionsHTML='';question.options.forEach((option,index)=>{const isSelected=userAnswers[currentQuestion]===index;const isCorrect=index===question.correct;const isAnswered=userAnswers[currentQuestion]!==null;let optionClass='option';if(isAnswered){optionClass+=' disabled';if(isSelected&&isCorrect){optionClass+=' correct';}else if(isSelected&&!isCorrect){optionClass+=' incorrect';}else if(isCorrect){optionClass+=' correct';}}else if(isSelected){optionClass+=' selected';}optionsHTML+=`<div class="${optionClass}" onclick="${isAnswered?'':'selectOption('+index+')'}"><div class="option-label">${String.fromCharCode(65+index)}</div><div class="option-text">${option}</div></div>`;});container.innerHTML=`<div class="question-number">Question ${currentQuestion+1} of ${questions.length}</div><div class="question-text">${question.question}</div><div class="options-container">${optionsHTML}</div>`;updateProgress();updateButtons();}function selectOption(index){if(userAnswers[currentQuestion]!==null)return;userAnswers[currentQuestion]=index;displayQuestion();}function updateProgress(){const answered=userAnswers.filter(a=>a!==null).length;const percentage=(answered/questions.length)*100;const progressBar=document.getElementById('progressBar');progressBar.style.width=percentage+'%';progressBar.textContent=`${answered}/${questions.length}`;}function updateButtons(){const prevBtn=document.getElementById('prevBtn');const nextBtn=document.getElementById('nextBtn');const submitBtn=document.getElementById('submitBtn');prevBtn.disabled=currentQuestion===0;if(currentQuestion===questions.length-1){nextBtn.style.display='none';submitBtn.style.display='block';}else{nextBtn.style.display='block';submitBtn.style.display='none';}}function previousQuestion(){if(currentQuestion>0){currentQuestion--;displayQuestion();}}function nextQuestion(){if(currentQuestion<questions.length-1){currentQuestion++;displayQuestion();}}function submitQuiz(){let correct=0;userAnswers.forEach((answer,index)=>{if(answer===questions[index].correct){correct++;}});const wrong=questions.length-correct;const percentage=((correct/questions.length)*100).toFixed(1);document.getElementById('quizArea').style.display='none';document.getElementById('results').classList.add('active');document.getElementById('finalScore').textContent=`${correct}/${questions.length}`;document.getElementById('correctAnswers').textContent=correct;document.getElementById('wrongAnswers').textContent=wrong;document.getElementById('percentage').textContent=percentage+'%';displayReview();}function displayReview(){const reviewSection=document.getElementById('reviewSection');let reviewHTML='<h2 style="color:#667eea;margin-bottom:25px">Answer Review</h2>';questions.forEach((question,qIndex)=>{const userAnswer=userAnswers[qIndex];const correctAnswer=question.correct;const isCorrect=userAnswer===correctAnswer;reviewHTML+=`<div class="review-question"><div class="review-question-header"><div class="review-question-number">Question ${qIndex+1}</div><div class="review-status ${isCorrect?'correct':'incorrect'}">${isCorrect?'Correct':'Incorrect'}</div></div><div class="review-question-text">${question.question}</div><div class="review-options">`;question.options.forEach((option,oIndex)=>{let optionClass='review-option';if(oIndex===correctAnswer&&oIndex===userAnswer){optionClass+=' correct-answer';}else if(oIndex===userAnswer&&oIndex!==correctAnswer){optionClass+=' user-incorrect';}else if(oIndex===correctAnswer){optionClass+=' correct-answer';}reviewHTML+=`<div class="${optionClass}"><div class="review-option-label">${String.fromCharCode(65+oIndex)}</div><div>${option}${oIndex===userAnswer?' (Your Answer)':''}${oIndex===correctAnswer?' (Correct Answer)':''}</div></div>`;});reviewHTML+=`</div></div>`;});reviewSection.innerHTML=reviewHTML;}function resetQuiz(){currentQuestion=0;userAnswers=new Array(questions.length).fill(null);answered=false;document.getElementById('results').classList.remove('active');document.getElementById('quizArea').style.display='block';displayQuestion();}displayQuestion();</script>
</body>
</html>
